# FSD Excessive Entities

**Source**: https://feature-sliced.design/kr/docs/guides/issues/excessive-entities

---

## Contents

- [1. ë¬¸ì œ ì •ì˜](#1-ë¬¸ì œ-ì •ì˜)
- [2. Entities ì—†ì´ ì‹œì‘ ê°€ëŠ¥](#2-entities-ì—†ì´-ì‹œì‘-ê°€ëŠ¥)
- [3. Sliceë¥¼ ë¯¸ë¦¬ ì„¸ë¶„í™”í•˜ì§€ ì•Šê¸°](#3-sliceë¥¼-ë¯¸ë¦¬-ì„¸ë¶„í™”í•˜ì§€-ì•Šê¸°)
- [4. ë¶ˆí•„ìš”í•œ Entities ìƒì„± ë°©ì§€](#4-ë¶ˆí•„ìš”í•œ-entities-ìƒì„±-ë°©ì§€)
- [5. CRUDëŠ” entitiesì— ë‘ì§€ ì•Šê¸°](#5-crudëŠ”-entitiesì—-ë‘ì§€-ì•Šê¸°)
- [6. ì¸ì¦ ë°ì´í„°ëŠ” sharedì— ë°°ì¹˜](#6-ì¸ì¦-ë°ì´í„°ëŠ”-sharedì—-ë°°ì¹˜)
- [7. Cross-Import ìµœì†Œí™”](#7-cross-import-ìµœì†Œí™”)
- [Key Principles](#key-principles)

---

## 1. ë¬¸ì œ ì •ì˜

`entities` LayerëŠ” ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ë„ë©”ì¸ ë¡œì§ì„ ë‹´ì§€ë§Œ, ë†’ì€ ì ‘ê·¼ì„±ìœ¼ë¡œ ì¸í•´ ë‹¤ìŒ ë¬¸ì œê°€ ë°œìƒí•œë‹¤:

| ë¬¸ì œ | ì„¤ëª… |
|------|------|
| **ê²½ê³„ ëª¨í˜¸í™”** | "ì´ ë¡œì§ì´ entitiesì— ì†í•˜ëŠ”ê°€?" íŒë‹¨ì´ ê³„ì† í•„ìš” |
| **ê²°í•©ë„ ì¦ê°€** | ì—¬ëŸ¬ ë„ë©”ì¸ì´ ì–½í˜€ ìˆ˜ì • ë‚œë„ ìƒìŠ¹ |
| **Import ë³µì¡ì„±** | ë™ì¼ Layer ë‚´ ë‹¤ë¥¸ entityë¡œ ë¶„ì‚°ë˜ë©° ì„ íƒ ì–´ë ¤ì›€ |

---

## 2. Entities ì—†ì´ ì‹œì‘ ê°€ëŠ¥

`entities` LayerëŠ” í•„ìˆ˜ê°€ ì•„ë‹ˆë‹¤. íŠ¹íˆ **thin client** ì•„í‚¤í…ì²˜ì—ì„œëŠ” ë¶ˆí•„ìš”í•  ìˆ˜ ìˆë‹¤.

| ì•„í‚¤í…ì²˜ | ì„¤ëª… |
|----------|------|
| **Thin client** | ë°±ì—”ë“œ ì¤‘ì‹¬ ì²˜ë¦¬, í´ë¼ì´ì–¸íŠ¸ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìµœì†Œí™” |
| **Thick client** | í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì˜ë¯¸ ìˆëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬ |

---

## 3. Sliceë¥¼ ë¯¸ë¦¬ ì„¸ë¶„í™”í•˜ì§€ ì•Šê¸°

ì ì§„ì  ì ‘ê·¼ ë°©ì‹:

1. page/widget/feature Sliceì˜ model Segmentì— ë¡œì§ ë°°ì¹˜
2. ìš”êµ¬ì‚¬í•­ ì•ˆì •í™” í›„ "ì¬ì‚¬ìš© í•„ìš”"ê°€ ëª…í™•í•´ì§ˆ ë•Œ entitiesë¡œ ì´ë™

> **âš ï¸ í•µì‹¬:** entities ì´ë™ ì‹œì ì´ ëŠ¦ì„ìˆ˜ë¡ ë¦¬íŒ©í† ë§ ë¦¬ìŠ¤í¬ ê°ì†Œ

---

## 4. ë¶ˆí•„ìš”í•œ Entities ìƒì„± ë°©ì§€

```
// âœ… CORRECT - ì—­í•  ë¶„ë‹´
ğŸ“‚ entities/order/model/
  ğŸ“„ apply-discount.ts      â† ì¬ì‚¬ìš© ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
ğŸ“‚ shared/api/endpoints/
  ğŸ“„ order.ts                â† ë°ì´í„° íƒ€ì… + API ìš”ì²­
```

**ê·œì¹™:** ë°ì´í„° ì •ì˜ëŠ” `shared/api`, ì¬ì‚¬ìš© ë¡œì§ì€ entityì˜ `model/`ì— ë°°ì¹˜

---

## 5. CRUDëŠ” entitiesì— ë‘ì§€ ì•Šê¸°

```
// âœ… CORRECT - CRUDëŠ” sharedì—
ğŸ“‚ shared/api/
  ğŸ“„ client.ts
  ğŸ“‚ endpoints/
    ğŸ“„ order.ts              â† ëª¨ë“  CRUD ì‘ì—…
```

> **ì˜ˆì™¸:** íŠ¸ëœì­ì…˜, rollback, ì—¬ëŸ¬ ìš”ì²­ í†µí•© ë“± ë³µí•© ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ ì¬í‰ê°€ í•„ìš”

---

## 6. ì¸ì¦ ë°ì´í„°ëŠ” sharedì— ë°°ì¹˜

```
// âœ… CORRECT
ğŸ“‚ shared/auth/
  ğŸ“„ use-auth.ts             â† ì‚¬ìš©ì ì •ë³´/í† í°
  ğŸ“„ index.ts
ğŸ“‚ shared/api/
  ğŸ“„ client.ts
```

Entityì— ì¸ì¦ ë°ì´í„°ë¥¼ ë‘ë©´:
- ìƒí™©ë³„ë¡œ í¬í•¨ ì •ë³´ ë³€ë™
- entity ìŠ¹ê²© ì‹œ ì˜ì¡´ì„± ì—­ì „ ìœ„í—˜
- cross-import ë³µì¡ë„ ì¦ê°€

---

## 7. Cross-Import ìµœì†Œí™”

```
// âŒ WRONG - ë¶„ì‚°ëœ ë„ë©”ì¸ + cross-import
ğŸ“‚ entities/order/
  ğŸ“‚ @x/
ğŸ“‚ entities/order-item/
  ğŸ“‚ @x/

// âœ… CORRECT - ìº¡ìŠí™”ëœ ë‹¨ì¼ entity
ğŸ“‚ entities/order-info/
  ğŸ“‚ model/
    ğŸ“„ order-info.ts         â† ê´€ë ¨ ì½”ë“œ ë‹¨ì¼í™”
```

---

## Key Principles

| Principle | Description |
|-----------|-------------|
| **ëŠ¦ì€ ì´ë™ì´ ì•ˆì „** | entitiesë¡œ ì½”ë“œë¥¼ ì˜®ê¸°ëŠ” ì‹œì ì´ ëŠ¦ì„ìˆ˜ë¡ ë¦¬íŒ©í† ë§ ë¦¬ìŠ¤í¬ ê°ì†Œ |
| **EntitiesëŠ” ì„ íƒì‚¬í•­** | êµ¬ì¡°ì  ì •ë¦¬ ë„êµ¬ì´ì§€ í•„ìˆ˜ ìš”ì†Œê°€ ì•„ë‹˜ |
| **CRUDëŠ” shared** | ë‹¨ìˆœ CRUD ì‘ì—…ì€ `shared/api`ì— ë°°ì¹˜ |
| **ì¸ì¦ì€ shared** | í† í°/ì¸ì¦ ë°ì´í„°ëŠ” entityê°€ ì•„ë‹Œ `shared/auth`ì— ë°°ì¹˜ |
